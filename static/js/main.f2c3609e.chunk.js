(this["webpackJsonpr-chuck-norris"]=this["webpackJsonpr-chuck-norris"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/heart.2cedafc9.svg"},20:function(e,t,a){e.exports=a.p+"static/media/heart-empty.e977fb9e.svg"},21:function(e,t,a){e.exports=a.p+"static/media/message.4a89a057.svg"},22:function(e,t,a){e.exports=a.p+"static/media/link.dc9befa3.svg"},23:function(e,t,a){e.exports=a.p+"static/media/burger-close.dbd9017e.svg"},24:function(e,t,a){e.exports=a.p+"static/media/burger-open.358f75fe.svg"},26:function(e,t,a){e.exports=a(56)},27:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);a(27);var n=a(0),r=a.n(n),c=a(18),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(2),i=(a(32),a(33),a(25)),l=(a(34),a(19)),m=a.n(l),u=a(20),f=a.n(u),p=a(21),_=a.n(p),v=a(22),d=a.n(v),g=function(e){var t=e.item,a=e.isFavourite,c=Object(n.useState)(!1),o=Object(s.a)(c,2),l=o[0],u=o[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favourites"))||[],a=e.length>0&&e.some((function(e){return e.id===t.id}));u(a)}),[t.id]);var p=function(){var e=Math.abs(new Date(t.updated_at)-new Date);return Math.floor(e/36e5)}();return r.a.createElement("article",{className:"joke ".concat(a?"joke--favourite":"joke--main")},r.a.createElement("img",{src:l?m.a:f.a,alt:"heart",className:"joke__heart",onClick:function(){var e=localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[],a=e.some((function(e){return e.id===t.id}))?e.filter((function(e){return e.id!==t.id})):[t].concat(Object(i.a)(e));localStorage.setItem("favourites",JSON.stringify(a)),console.log(a),u(!l)}}),r.a.createElement("div",{className:"joke__box"},r.a.createElement("div",{className:"joke__message ".concat(a?"joke__message--favourite":"joke__message--main")},r.a.createElement("img",{src:_.a,alt:"message"})),r.a.createElement("p",{className:"joke__id"},"ID:",r.a.createElement("a",{href:"https://api.chucknorris.io/jokes/".concat(t.id),className:"joke__id joke__id--blue",target:"_blank",rel:"noopener noreferrer"},t.id,r.a.createElement("img",{src:d.a,alt:"link",className:"joke__link"}))),r.a.createElement("p",{className:"joke__text ".concat(a?"joke__text--favourite":"joke__text--main")},t.value),r.a.createElement("div",{className:"joke__bottom ".concat(a?"joke__bottom--favourite":"joke__bottom--main")},r.a.createElement("p",{className:"joke__update"},"Last update: ",p," hours ago"),!a&&t.categories[0]&&r.a.createElement("p",{className:"joke__option joke__category"},t.categories[0]))))},b=a(5),E=a.n(b),k=a(7),h=(a(36),a(3)),j=a(8),N=a.n(j),O="https://api.chucknorris.io/jokes/",S=function(e){var t=e.setJokes,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)([]),m=Object(s.a)(l,2),u=m[0],f=m[1],p=Object(n.useState)("celebrity"),_=Object(s.a)(p,2),v=_[0],d=_[1],g=Object(n.useState)(2),b=Object(s.a)(g,2),j=b[0],S=b[1];Object(n.useEffect)((function(){x()}),[]);var x=function(){var e=Object(k.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get(O+"categories");case 3:t=e.sent,a=t.data.slice(0,4),f(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(e){d("celebrity"),S(+e),i("")},M=u.map((function(e){return r.a.createElement("button",{key:Object(h.a)(),type:"button",className:"form__tag ".concat(v===e&&"form__tag--active"),onClick:function(){return d(e)}},e)})),w=function(){var e=Object(k.a)(E.a.mark((function e(a){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,n=1===j?"random":2===j?"random?category=".concat(v):"search?query=".concat(o),e.next=5,N.a.get(O+n);case 5:r=e.sent,c=1===j||2===j?[r.data]:r.data.result,console.log(c),t(c),y(2),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"form",onSubmit:w,method:"GET"},r.a.createElement("label",{className:"form__label"},r.a.createElement("input",{type:"radio",className:"form__input",name:"option",value:1,checked:1===j,onChange:function(e){return y(e.target.value)}}),r.a.createElement("span",{className:"form__design"}),r.a.createElement("span",{className:"form__text"},"Random")),r.a.createElement("label",{className:"form__label"},r.a.createElement("input",{type:"radio",className:"form__input",name:"option",value:2,checked:2===j,onChange:function(e){return y(e.target.value)}}),r.a.createElement("span",{className:"form__design"}),r.a.createElement("span",{className:"form__text"},"From caterogies")),2===j&&r.a.createElement("div",{className:"form__tags"},M),r.a.createElement("label",{className:"form__label"},r.a.createElement("input",{type:"radio",className:"form__input",name:"option",value:3,checked:3===j,onChange:function(e){return y(e.target.value)}}),r.a.createElement("span",{className:"form__design"}),r.a.createElement("span",{className:"form__text"},"Search")),3===j&&r.a.createElement("input",{value:o,type:"text",minLength:"3",className:"form__search",name:"option",placeholder:"Free text search",onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"form__button",disabled:3===j&&o.length<=3},"Get a joke"))},x=(a(54),a(23)),y=a.n(x),M=a(24),w=a.n(M),I=function(e){var t=e.isMenuOpened,a=e.setMenuStatus,n=e.isFavourites;return r.a.createElement("button",{className:"main__top-title ".concat(n?"burger--favourite":null),onClick:function(){return a(!t)}},r.a.createElement("img",{src:t?y.a:w.a,alt:"burger"}),r.a.createElement("span",{className:"main__top-title--text"},"Favourite"))},F=function(e){var t=e.isMenuOpened,a=e.setMenuStatus,c=Object(n.useState)([]),o=Object(s.a)(c,2),i=o[0],l=o[1],m=i.map((function(e){return r.a.createElement(g,{key:Object(h.a)(),item:e})}));return r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"main__wrapper"},r.a.createElement("div",{className:"main__top"},r.a.createElement("h2",{className:"main__logo"},"MSI 2020"),!t&&r.a.createElement(I,{isMenuOpened:t,setMenuStatus:a})),r.a.createElement("div",{className:"main__heading"},r.a.createElement("h1",{className:"main__title"},"Hey!"),r.a.createElement("p",{className:"main__subtitle"},"Let\u2019s try to find a joke for you:")),r.a.createElement(S,{const:!0,setJokes:l}),i.length>0&&r.a.createElement("div",{className:"main__jokes"},m)))},J=(a(55),function(e){var t=e.isMenuOpened,a=e.setMenuStatus;console.log(localStorage.getItem("favourites"));var n=localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[];console.log(1);var c=n.map((function(e){return r.a.createElement(g,{key:Object(h.a)(),isFavourite:!0,item:e})}));return r.a.createElement("section",{className:"favourite ".concat(t&&"favourite--show")},r.a.createElement("h2",{className:"favourite__title"},"Favourite"),r.a.createElement(I,{isMenuOpened:t,setMenuStatus:a,isFavourites:!0}),r.a.createElement("div",{className:"favourite__container"},c))}),C=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"app ".concat(a?"app--overflow":null)},r.a.createElement(F,{isMenuOpened:a,setMenuStatus:c}),r.a.createElement(J,{isMenuOpened:a,setMenuStatus:c}),r.a.createElement("div",{className:"app__background ".concat(a?"app__background--active":null)}))};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.f2c3609e.chunk.js.map