(this["webpackJsonpr-chuck-norris"]=this["webpackJsonpr-chuck-norris"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/heart.2cedafc9.svg"},20:function(e,t,a){e.exports=a.p+"static/media/heart-empty.e977fb9e.svg"},21:function(e,t,a){e.exports=a.p+"static/media/message.4a89a057.svg"},22:function(e,t,a){e.exports=a.p+"static/media/link.dc9befa3.svg"},23:function(e,t,a){e.exports=a.p+"static/media/burger-close.dbd9017e.svg"},24:function(e,t,a){e.exports=a.p+"static/media/burger-open.358f75fe.svg"},26:function(e,t,a){e.exports=a(56)},27:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);a(27);var n=a(0),r=a.n(n),c=a(18),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(2),i=(a(32),r.a.createContext()),l=(a(33),a(25)),u=(a(34),a(19)),m=a.n(u),f=a(20),_=a.n(f),p=a(21),v=a.n(p),d=a(22),g=a.n(d),b=function(e){var t=e.item,a=e.isFavourite,c=Object(n.useContext)(i),o=Object(n.useState)(!1),u=Object(s.a)(o,2),f=u[0],p=u[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favourites"))||[],a=e.length>0&&e.some((function(e){return e.id===t.id}));p(a)}),[t.id]);var d=function(){var e=Math.abs(new Date(t.updated_at)-new Date);return Math.floor(e/36e5)}();return r.a.createElement("article",{className:"joke ".concat(a?"joke--favourite":"joke--main")},r.a.createElement("img",{src:f?m.a:_.a,alt:"heart",className:"joke__heart ".concat(a?"joke__heart--favourite":"joke__heart--main"),onClick:function(){var e=localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):[],a=e.some((function(e){return e.id===t.id}))?e.filter((function(e){return e.id!==t.id})):[t].concat(Object(l.a)(e));localStorage.setItem("favourites",JSON.stringify(a)),p(!f),c.setFauvorites(a)}}),r.a.createElement("div",{className:"joke__box"},r.a.createElement("div",{className:"joke__message ".concat(a?"joke__message--favourite":"joke__message--main")},r.a.createElement("img",{src:v.a,alt:"message"})),r.a.createElement("p",{className:"joke__id"},"ID:",r.a.createElement("a",{href:"https://api.chucknorris.io/jokes/".concat(t.id),className:"joke__id joke__id--blue",target:"_blank",rel:"noopener noreferrer"},t.id,r.a.createElement("img",{src:g.a,alt:"link",className:"joke__link"}))),r.a.createElement("p",{className:"joke__text ".concat(a?"joke__text--favourite":"joke__text--main")},t.value),r.a.createElement("div",{className:"joke__bottom ".concat(a?"joke__bottom--favourite":"joke__bottom--main")},r.a.createElement("p",{className:"joke__update"},"Last update: ",d," hours ago"),!a&&t.categories[0]&&r.a.createElement("p",{className:"joke__option joke__category"},t.categories[0]))))},E=a(5),k=a.n(E),h=a(7),j=(a(36),a(3)),N=a(8),O=a.n(N),S="https://api.chucknorris.io/jokes/",x=function(e){var t=e.setJokes,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)([]),u=Object(s.a)(l,2),m=u[0],f=u[1],_=Object(n.useState)("celebrity"),p=Object(s.a)(_,2),v=p[0],d=p[1],g=Object(n.useState)(2),b=Object(s.a)(g,2),E=b[0],N=b[1];Object(n.useEffect)((function(){x()}),[]);var x=function(){var e=Object(h.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(S+"categories");case 3:t=e.sent,a=t.data.slice(0,4),f(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(e){d("celebrity"),N(+e),i("")},M=m.map((function(e){return r.a.createElement("button",{key:Object(j.a)(),type:"button",className:"form__tag ".concat(v===e&&"form__tag--active"),onClick:function(){return d(e)}},e)})),w=function(){var e=Object(h.a)(k.a.mark((function e(a){var n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,n=1===E?"random":2===E?"random?category=".concat(v):"search?query=".concat(o),e.next=5,O.a.get(S+n);case 5:r=e.sent,c=1===E||2===E?[r.data]:r.data.result,t(c),y(2),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"form",onSubmit:w,method:"GET"},r.a.createElement("label",{className:"form__label"},r.a.createElement("input",{type:"radio",className:"form__input",name:"option",value:1,checked:1===E,onChange:function(e){return y(e.target.value)}}),r.a.createElement("span",{className:"form__design"}),r.a.createElement("span",{className:"form__text"},"Random")),r.a.createElement("label",{className:"form__label"},r.a.createElement("input",{type:"radio",className:"form__input",name:"option",value:2,checked:2===E,onChange:function(e){return y(e.target.value)}}),r.a.createElement("span",{className:"form__design"}),r.a.createElement("span",{className:"form__text"},"From caterogies")),2===E&&r.a.createElement("div",{className:"form__tags"},M),r.a.createElement("label",{className:"form__label"},r.a.createElement("input",{type:"radio",className:"form__input",name:"option",value:3,checked:3===E,onChange:function(e){return y(e.target.value)}}),r.a.createElement("span",{className:"form__design"}),r.a.createElement("span",{className:"form__text"},"Search")),3===E&&r.a.createElement("input",{value:o,type:"text",minLength:"3",className:"form__search",name:"option",placeholder:"Free text search",onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"form__button",disabled:3===E&&o.length<=3},"Get a joke"))},y=(a(54),a(23)),M=a.n(y),w=a(24),F=a.n(w),C=function(e){var t=e.isMenuOpened,a=e.setMenuStatus,n=e.isFavourites;return r.a.createElement("button",{className:"main__top-title ".concat(n?"burger--favourite":null),onClick:function(){return a(!t)}},r.a.createElement("img",{src:t?M.a:F.a,alt:"burger"}),r.a.createElement("span",{className:"main__top-title--text"},"Favourite"))},I=function(e){var t=e.isMenuOpened,a=e.setMenuStatus,c=Object(n.useState)([]),o=Object(s.a)(c,2),i=o[0],l=o[1],u=i.map((function(e){return r.a.createElement(b,{key:Object(j.a)(),item:e})}));return r.a.createElement("main",{className:"main ".concat(t?"main--hidden":null)},r.a.createElement("div",{className:"main__wrapper"},r.a.createElement("div",{className:"main__top"},r.a.createElement("h2",{className:"main__logo"},"MSI 2020"),!t&&r.a.createElement(C,{isMenuOpened:t,setMenuStatus:a})),r.a.createElement("div",{className:"main__heading"},r.a.createElement("h1",{className:"main__title"},"Hey!"),r.a.createElement("p",{className:"main__subtitle"},"Let\u2019s try to find a joke for you:")),r.a.createElement(x,{const:!0,setJokes:l}),i.length>0&&r.a.createElement("div",{className:"main__jokes"},u)))},J=(a(55),function(e){var t=e.isMenuOpened,a=e.setMenuStatus,c=Object(n.useContext)(i),o=c.favourites.length>0?c.favourites.map((function(e){return r.a.createElement(b,{key:Object(j.a)(),isFavourite:!0,item:e})})):[];return r.a.createElement("section",{className:"favourite ".concat(t&&"favourite--show")},r.a.createElement("h2",{className:"favourite__title"},"Favourite"),r.a.createElement(C,{isMenuOpened:t,setMenuStatus:a,isFavourites:!0}),r.a.createElement("div",{className:"favourite__container"},o))}),D=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favourites"));m(e)}),[]),r.a.createElement(i.Provider,{value:{favourites:u,setFauvorites:m}},r.a.createElement("div",{className:"app ".concat(a?"app--overflow":null)},r.a.createElement(I,{isMenuOpened:a,setMenuStatus:c}),r.a.createElement(J,{isMenuOpened:a,setMenuStatus:c}),r.a.createElement("div",{className:"app__background ".concat(a?"app__background--active":null)})))};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.56c54e9d.chunk.js.map